#!/bin/bash

(
    for pattern in \
    "datawire/telepresence-*-OSX-*" \
    "datawire/telepresence-*-LNX-*" \
    "ark3/*" \
    "host.docker.internal:31000/*/*" \
    "localhost:31000/*/*" \
    "localhost:5000/*/*" \
    "quay.io/datawire/*-dev" \
    "gcr.io/datawireio/metriton:*ark3"
    do
        docker images -q "$pattern"
    done
) | sort -u | xargs docker rmi -f
docker system prune --volumes -f > /dev/null
